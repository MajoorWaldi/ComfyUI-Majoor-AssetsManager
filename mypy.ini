[mypy]
python_version = 3.10
strict = True
warn_unused_configs = True
explicit_package_bases = True
namespace_packages = True

# Type-check the core modules first (expand over time).
files =
  shared,
  backend/shared.py,
  backend/routes/registry.py,
  backend/routes_compat.py,
  backend/routes/handlers/filesystem.py

# Third-party libs in the ComfyUI embedded environment can be present/absent
# depending on installation mode. Keep mypy focused on our code.
ignore_missing_imports = True

# Keep the rollout manageable: start strict on a small set of modules while the
# rest of the codebase is being annotated.
[mypy-backend.*]
ignore_errors = True

[mypy-backend.shared]
ignore_errors = False

[mypy-backend.routes.registry]
ignore_errors = False

[mypy-backend.routes_compat]
ignore_errors = False

[mypy-backend.routes.handlers.filesystem]
ignore_errors = False
